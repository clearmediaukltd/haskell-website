<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Web.Scotty</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Web-Scotty.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">scotty-0.9.1: Haskell web framework inspired by Ruby's Sinatra, using WAI and Warp</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Web.Scotty</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">scotty-to-WAI</a></li><li><a href="#g:2">Defining Middleware and Routes</a><ul><li><a href="#g:3">Route Patterns</a></li><li><a href="#g:4">Accessing the Request, Captures, and Query Parameters</a></li><li><a href="#g:5">Modifying the Response and Redirecting</a></li><li><a href="#g:6">Setting Response Body</a></li><li><a href="#g:7">Exceptions</a></li></ul></li><li><a href="#g:8">Parsing Parameters</a></li><li><a href="#g:9">Types</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>It should be noted that most of the code snippets below depend on the
 OverloadedStrings language pragma.</p><p>Scotty is set up by default for development mode. For production servers,
 you will likely want to modify <code><a href="Web-Scotty.html#v:settings">settings</a></code> and the <code><a href="Web-Scotty.html#v:defaultHandler">defaultHandler</a></code>. See
 the comments on each of these functions for more information.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:scotty">scotty</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/warp-3.0.9.3/html/Network-Wai-Handler-Warp.html#t:Port">Port</a> -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:scottyApp">scottyApp</a> :: <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Application">Application</a></li><li class="src short"><a href="#v:scottyOpts">scottyOpts</a> :: <a href="Web-Scotty.html#t:Options">Options</a> -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:Options">Options</a> = <a href="#v:Options">Options</a> {<ul class="subs"><li><a href="#v:verbose">verbose</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:settings">settings</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/warp-3.0.9.3/html/Network-Wai-Handler-Warp-Internal.html#t:Settings">Settings</a></li></ul>}</li><li class="src short"><a href="#v:middleware">middleware</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Middleware">Middleware</a> -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:get">get</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:post">post</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:put">put</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:delete">delete</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:patch">patch</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:addroute">addroute</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/http-types-0.8.6/html/Network-HTTP-Types-Method.html#t:StdMethod">StdMethod</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:matchAny">matchAny</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:notFound">notFound</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><a href="#v:capture">capture</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></li><li class="src short"><a href="#v:regex">regex</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></li><li class="src short"><a href="#v:function">function</a> :: (<a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> [<a href="Web-Scotty.html#t:Param">Param</a>]) -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></li><li class="src short"><a href="#v:literal">literal</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></li><li class="src short"><a href="#v:request">request</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Request">Request</a></li><li class="src short"><a href="#v:header">header</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:headers">headers</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> [(<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>)]</li><li class="src short"><a href="#v:body">body</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:param">param</a> :: <a href="Web-Scotty.html#t:Parsable">Parsable</a> a =&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</li><li class="src short"><a href="#v:params">params</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> [<a href="Web-Scotty.html#t:Param">Param</a>]</li><li class="src short"><a href="#v:jsonData">jsonData</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/aeson-0.7.0.4/html/Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</li><li class="src short"><a href="#v:files">files</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> [<a href="Web-Scotty.html#t:File">File</a>]</li><li class="src short"><a href="#v:status">status</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/http-types-0.8.6/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:addHeader">addHeader</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:setHeader">setHeader</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:redirect">redirect</a> ::  <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</li><li class="src short"><a href="#v:text">text</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:html">html</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:file">file</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:json">json</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/aeson-0.7.0.4/html/Data-Aeson-Types.html#t:ToJSON">ToJSON</a> a =&gt; a -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:stream">stream</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:StreamingBody">StreamingBody</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:raw">raw</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</li><li class="src short"><a href="#v:raise">raise</a> ::  <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</li><li class="src short"><a href="#v:rescue">rescue</a> ::  <a href="Web-Scotty.html#t:ActionM">ActionM</a> a -&gt; (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a) -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</li><li class="src short"><a href="#v:next">next</a> ::  <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</li><li class="src short"><a href="#v:defaultHandler">defaultHandler</a> :: (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()) -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:Param">Param</a> = (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>)</li><li class="src short"><span class="keyword">class</span> <a href="#t:Parsable">Parsable</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:parseParam">parseParam</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> a</li><li><a href="#v:parseParamList">parseParamList</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> [a]</li></ul></li><li class="src short"><a href="#v:readEither">readEither</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a =&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:ScottyM">ScottyM</a> = <a href="Web-Scotty-Internal-Types.html#t:ScottyT">ScottyT</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ActionM">ActionM</a> = <a href="Web-Scotty-Internal-Types.html#t:ActionT">ActionT</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RoutePattern">RoutePattern</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:File">File</a> = (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>, <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-extra-3.0.4.5/html/Network-Wai-Parse.html#t:FileInfo">FileInfo</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</li></ul></div><div id="interface"><h1 id="g:1">scotty-to-WAI</h1><div class="top"><p class="src"><a name="v:scotty" class="def">scotty</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/warp-3.0.9.3/html/Network-Wai-Handler-Warp.html#t:Port">Port</a> -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Run a scotty application using the warp server.</p></div></div><div class="top"><p class="src"><a name="v:scottyApp" class="def">scottyApp</a> :: <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Application">Application</a></p><div class="doc"><p>Turn a scotty application into a WAI <code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Application">Application</a></code>, which can be
 run with any WAI handler.</p></div></div><div class="top"><p class="src"><a name="v:scottyOpts" class="def">scottyOpts</a> :: <a href="Web-Scotty.html#t:Options">Options</a> -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> () -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Run a scotty application using the warp server, passing extra options.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Options" class="def">Options</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Options" class="def">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:verbose" class="def">verbose</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>0 = silent, 1(def) = startup banner</p></dd><dt class="src"><a name="v:settings" class="def">settings</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/warp-3.0.9.3/html/Network-Wai-Handler-Warp-Internal.html#t:Settings">Settings</a></dt><dd class="doc"><p>Warp <code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/warp-3.0.9.3/html/Network-Wai-Handler-Warp-Internal.html#t:Settings">Settings</a></code>
 Note: to work around an issue in warp,
 the default FD cache duration is set to 0
 so changes to static files are always picked
 up. This likely has performance implications,
 so you may want to modify this for production
 servers using <code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/warp-3.0.9.3/html/Network-Wai-Handler-Warp.html#v:setFdCacheDuration">setFdCacheDuration</a></code>.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Options" class="caption collapser" onclick="toggleSection('i:Options')">Instances</p><div id="section.i:Options" class="show"><table><tr><td class="src"><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Web-Scotty.html#t:Options">Options</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Defining Middleware and Routes</h1><div class="doc"><p><code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Middleware">Middleware</a></code> and routes are run in the order in which they
 are defined. All middleware is run first, followed by the first
 route that matches. If no route matches, a 404 response is given.</p></div><div class="top"><p class="src"><a name="v:middleware" class="def">middleware</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Middleware">Middleware</a> -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>Use given middleware. Middleware is nested such that the first declared
 is the outermost middleware (it has first dibs on the request and last action
 on the response). Every middleware is run on each request.</p></div></div><div class="top"><p class="src"><a name="v:get" class="def">get</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>get = <code><a href="Web-Scotty.html#v:addroute">addroute</a></code> <code>GET</code></p></div></div><div class="top"><p class="src"><a name="v:post" class="def">post</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>post = <code><a href="Web-Scotty.html#v:addroute">addroute</a></code> <code>POST</code></p></div></div><div class="top"><p class="src"><a name="v:put" class="def">put</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>put = <code><a href="Web-Scotty.html#v:addroute">addroute</a></code> <code>PUT</code></p></div></div><div class="top"><p class="src"><a name="v:delete" class="def">delete</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>delete = <code><a href="Web-Scotty.html#v:addroute">addroute</a></code> <code>DELETE</code></p></div></div><div class="top"><p class="src"><a name="v:patch" class="def">patch</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>patch = <code><a href="Web-Scotty.html#v:addroute">addroute</a></code> <code>PATCH</code></p></div></div><div class="top"><p class="src"><a name="v:addroute" class="def">addroute</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/http-types-0.8.6/html/Network-HTTP-Types-Method.html#t:StdMethod">StdMethod</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>Define a route with a <code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/http-types-0.8.6/html/Network-HTTP-Types-Method.html#t:StdMethod">StdMethod</a></code>, <code><a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a></code> value representing the path spec,
 and a body (<code>Action</code>) which modifies the response.</p><pre>addroute GET &quot;/&quot; $ text &quot;beam me up!&quot;</pre><p>The path spec can include values starting with a colon, which are interpreted
 as <em>captures</em>. These are named wildcards that can be looked up with <code><a href="Web-Scotty.html#v:param">param</a></code>.</p><pre>addroute GET &quot;/foo/:bar&quot; $ do
    v &lt;- param &quot;bar&quot;
    text v</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>curl http://localhost:3000/foo/something
</code></strong>something
</pre></div></div><div class="top"><p class="src"><a name="v:matchAny" class="def">matchAny</a> :: <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>Add a route that matches regardless of the HTTP verb.</p></div></div><div class="top"><p class="src"><a name="v:notFound" class="def">notFound</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> () -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>Specify an action to take if nothing else is found. Note: this _always_ matches,
 so should generally be the last route specified.</p></div></div><h2 id="g:3">Route Patterns</h2><div class="top"><p class="src"><a name="v:capture" class="def">capture</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></p><div class="doc"><p>Standard Sinatra-style route. Named captures are prepended with colons.
   This is the default route type generated by OverloadedString routes. i.e.</p><pre>get (capture &quot;/foo/:bar&quot;) $ ...</pre><p>and</p><pre>{-# LANGUAGE OverloadedStrings #-}
...
get &quot;/foo/:bar&quot; $ ...</pre><p>are equivalent.</p></div></div><div class="top"><p class="src"><a name="v:regex" class="def">regex</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></p><div class="doc"><p>Match requests using a regular expression.
   Named captures are not yet supported.</p><pre>get (regex &quot;^/f(.*)r$&quot;) $ do
   path &lt;- param &quot;0&quot;
   cap &lt;- param &quot;1&quot;
   text $ mconcat [&quot;Path: &quot;, path, &quot;\nCapture: &quot;, cap]</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>curl http://localhost:3000/foo/bar
</code></strong>Path: /foo/bar
Capture: oo/ba
</pre></div></div><div class="top"><p class="src"><a name="v:function" class="def">function</a> :: (<a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> [<a href="Web-Scotty.html#t:Param">Param</a>]) -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></p><div class="doc"><p>Build a route based on a function which can match using the entire <code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Request">Request</a></code> object.
   <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> indicates the route does not match. A <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> value indicates
   a successful match, optionally returning a list of key-value pairs accessible
   by <code><a href="Web-Scotty.html#v:param">param</a></code>.</p><pre>get (function $ \req -&gt; Just [(&quot;version&quot;, pack $ show $ httpVersion req)]) $ do
    v &lt;- param &quot;version&quot;
    text v</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>curl http://localhost:3000/
</code></strong>HTTP/1.1
</pre></div></div><div class="top"><p class="src"><a name="v:literal" class="def">literal</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></p><div class="doc"><p>Build a route that requires the requested path match exactly, without captures.</p></div></div><h2 id="g:4">Accessing the Request, Captures, and Query Parameters</h2><div class="top"><p class="src"><a name="v:request" class="def">request</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Request">Request</a></p><div class="doc"><p>Get the <code><a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:Request">Request</a></code> object.</p></div></div><div class="top"><p class="src"><a name="v:header" class="def">header</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>)</p><div class="doc"><p>Get a request header. Header name is case-insensitive.</p></div></div><div class="top"><p class="src"><a name="v:headers" class="def">headers</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> [(<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>)]</p><div class="doc"><p>Get all the request headers. Header names are case-insensitive.</p></div></div><div class="top"><p class="src"><a name="v:body" class="def">body</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></p><div class="doc"><p>Get the request body.</p></div></div><div class="top"><p class="src"><a name="v:param" class="def">param</a> :: <a href="Web-Scotty.html#t:Parsable">Parsable</a> a =&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</p><div class="doc"><p>Get a parameter. First looks in captures, then form data, then query parameters.</p><ul><li>Raises an exception which can be caught by <code><a href="Web-Scotty.html#v:rescue">rescue</a></code> if parameter is not found.</li><li>If parameter is found, but <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#v:read">read</a></code> fails to parse to the correct type, <code><a href="Web-Scotty.html#v:next">next</a></code> is called.
   This means captures are somewhat typed, in that a route won't match if a correctly typed
   capture cannot be parsed.</li></ul></div></div><div class="top"><p class="src"><a name="v:params" class="def">params</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> [<a href="Web-Scotty.html#t:Param">Param</a>]</p><div class="doc"><p>Get all parameters from capture, form and query (in that order).</p></div></div><div class="top"><p class="src"><a name="v:jsonData" class="def">jsonData</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/aeson-0.7.0.4/html/Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</p><div class="doc"><p>Parse the request body as a JSON object and return it. Raises an exception if parse is unsuccessful.</p></div></div><div class="top"><p class="src"><a name="v:files" class="def">files</a> :: <a href="Web-Scotty.html#t:ActionM">ActionM</a> [<a href="Web-Scotty.html#t:File">File</a>]</p><div class="doc"><p>Get list of uploaded files.</p></div></div><h2 id="g:5">Modifying the Response and Redirecting</h2><div class="top"><p class="src"><a name="v:status" class="def">status</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/http-types-0.8.6/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set the HTTP response status. Default is 200.</p></div></div><div class="top"><p class="src"><a name="v:addHeader" class="def">addHeader</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Add to the response headers. Header names are case-insensitive.</p></div></div><div class="top"><p class="src"><a name="v:setHeader" class="def">setHeader</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set one of the response headers. Will override any previously set value for that header.
 Header names are case-insensitive.</p></div></div><div class="top"><p class="src"><a name="v:redirect" class="def">redirect</a> ::  <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</p><div class="doc"><p>Redirect to given URL. Like throwing an uncatchable exception. Any code after the call to redirect
 will not be run.</p><pre>redirect &quot;http://www.google.com&quot;</pre><p>OR</p><pre>redirect &quot;/foo/bar&quot;</pre></div></div><h2 id="g:6">Setting Response Body</h2><div class="doc"><p>Note: only one of these should be present in any given route
 definition, as they completely replace the current <code>Response</code> body.</p></div><div class="top"><p class="src"><a name="v:text" class="def">text</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set the body of the response to the given <code><a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a></code> value. Also sets &quot;Content-Type&quot;
 header to &quot;text/plain; charset=utf-8&quot; if it has not already been set.</p></div></div><div class="top"><p class="src"><a name="v:html" class="def">html</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set the body of the response to the given <code><a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a></code> value. Also sets &quot;Content-Type&quot;
 header to &quot;text/html; charset=utf-8&quot; if it has not already been set.</p></div></div><div class="top"><p class="src"><a name="v:file" class="def">file</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Send a file as the response. Doesn't set the &quot;Content-Type&quot; header, so you probably
 want to do that on your own with <code><a href="Web-Scotty.html#v:setHeader">setHeader</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:json" class="def">json</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/aeson-0.7.0.4/html/Data-Aeson-Types.html#t:ToJSON">ToJSON</a> a =&gt; a -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set the body of the response to the JSON encoding of the given value. Also sets &quot;Content-Type&quot;
 header to &quot;application/json; charset=utf-8&quot; if it has not already been set.</p></div></div><div class="top"><p class="src"><a name="v:stream" class="def">stream</a> :: <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-3.0.2.3/html/Network-Wai.html#t:StreamingBody">StreamingBody</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set the body of the response to a StreamingBody. Doesn't set the
 &quot;Content-Type&quot; header, so you probably want to do that on your
 own with <code><a href="Web-Scotty.html#v:setHeader">setHeader</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:raw" class="def">raw</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()</p><div class="doc"><p>Set the body of the response to the given <code><a href="BL.html#t:ByteString">ByteString</a></code> value. Doesn't set the
 &quot;Content-Type&quot; header, so you probably want to do that on your own with <code><a href="Web-Scotty.html#v:setHeader">setHeader</a></code>.</p></div></div><h2 id="g:7">Exceptions</h2><div class="top"><p class="src"><a name="v:raise" class="def">raise</a> ::  <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</p><div class="doc"><p>Throw an exception, which can be caught with <code><a href="Web-Scotty.html#v:rescue">rescue</a></code>. Uncaught exceptions
 turn into HTTP 500 responses.</p></div></div><div class="top"><p class="src"><a name="v:rescue" class="def">rescue</a> ::  <a href="Web-Scotty.html#t:ActionM">ActionM</a> a -&gt; (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a) -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</p><div class="doc"><p>Catch an exception thrown by <code><a href="Web-Scotty.html#v:raise">raise</a></code>.</p><pre>raise &quot;just kidding&quot; `rescue` (\msg -&gt; text msg)</pre></div></div><div class="top"><p class="src"><a name="v:next" class="def">next</a> ::  <a href="Web-Scotty.html#t:ActionM">ActionM</a> a</p><div class="doc"><p>Abort execution of this action and continue pattern matching routes.
 Like an exception, any code after <code><a href="Web-Scotty.html#v:next">next</a></code> is not executed.</p><p>As an example, these two routes overlap. The only way the second one will
 ever run is if the first one calls <code><a href="Web-Scotty.html#v:next">next</a></code>.</p><pre>get &quot;/foo/:bar&quot; $ do
  w :: Text &lt;- param &quot;bar&quot;
  unless (w == &quot;special&quot;) next
  text &quot;You made a request to /foo/special&quot;

get &quot;/foo/:baz&quot; $ do
  w &lt;- param &quot;baz&quot;
  text $ &quot;You made a request to: &quot; &lt;&gt; w</pre></div></div><div class="top"><p class="src"><a name="v:defaultHandler" class="def">defaultHandler</a> :: (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="Web-Scotty.html#t:ActionM">ActionM</a> ()) -&gt; <a href="Web-Scotty.html#t:ScottyM">ScottyM</a> ()</p><div class="doc"><p>Global handler for uncaught exceptions.</p><p>Uncaught exceptions normally become 500 responses.
 You can use this to selectively override that behavior.</p><p>Note: IO exceptions are lifted into Scotty exceptions by default.
 This has security implications, so you probably want to provide your
 own defaultHandler in production which does not send out the error
 strings as 500 responses.</p></div></div><h1 id="g:8">Parsing Parameters</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Param" class="def">Param</a> = (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>)</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Parsable" class="def">Parsable</a> a <span class="keyword">where</span></p><div class="doc"><p>Minimum implemention: <code><a href="Web-Scotty.html#v:parseParam">parseParam</a></code></p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Web-Scotty.html#v:parseParam">parseParam</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:parseParam" class="def">parseParam</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> a</p><div class="doc"><p>Take a <code><a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a></code> value and parse it as <code>a</code>, or fail with a message.</p></div><p class="src"><a name="v:parseParamList" class="def">parseParamList</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> [a]</p><div class="doc"><p>Default implementation parses comma-delimited lists.</p><pre>parseParamList t = mapM parseParam (T.split (== ',') t)</pre></div></div><div class="subs instances"><p id="control.i:Parsable" class="caption collapser" onclick="toggleSection('i:Parsable')">Instances</p><div id="section.i:Parsable" class="show"><table><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Char.html#t:Char">Char</a></td><td class="doc"><p>Overrides default <code><a href="Web-Scotty.html#v:parseParamList">parseParamList</a></code> to parse String.</p></td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Float">Float</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> ()</td><td class="doc"><p>Checks if parameter is present and is null-valued, not a literal '()'.
 If the URI requested is: '/foo?bar=()&amp;baz' then <code>baz</code> will parse as (), where <code>bar</code> will not.</p></td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Web-Scotty.html#t:Parsable">Parsable</a> a =&gt; <a href="Web-Scotty.html#t:Parsable">Parsable</a> [a]</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:readEither" class="def">readEither</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a =&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> a</p><div class="doc"><p>Useful for creating <code><a href="Web-Scotty.html#t:Parsable">Parsable</a></code> instances for things that already implement <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a></code>. Ex:</p><pre>instance Parsable Int where parseParam = readEither</pre></div></div><h1 id="g:9">Types</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ScottyM" class="def">ScottyM</a> = <a href="Web-Scotty-Internal-Types.html#t:ScottyT">ScottyT</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ActionM" class="def">ActionM</a> = <a href="Web-Scotty-Internal-Types.html#t:ActionT">ActionT</a> <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:RoutePattern" class="def">RoutePattern</a></p><div class="subs instances"><p id="control.i:RoutePattern" class="caption collapser" onclick="toggleSection('i:RoutePattern')">Instances</p><div id="section.i:RoutePattern" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:IsString">IsString</a> <a href="Web-Scotty.html#t:RoutePattern">RoutePattern</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:File" class="def">File</a> = (<a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/text-1.1.0.0/doc/html/Data-Text-Internal-Lazy.html#t:Text">Text</a>, <a href="file:///Users/chris/Documents/Work/Haskell/haskell-web/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.8.3/wai-extra-3.0.4.5/html/Network-Wai-Parse.html#t:FileInfo">FileInfo</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>